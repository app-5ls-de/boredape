<!DOCTYPE html>
<html>
  <head>
    <title>Ape Base</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <style>
      img#ape {
        position: fixed;
        left: 50%;
        bottom: 0;
        transform: translateX(-50%);
        margin: 0 auto;
        max-width: 100vw;
      }
    </style>
  </head>

  <body>
    <img id="ape" src="" alt="" />

    <script>
      let base =
        "https://cdn.jsdelivr.net/gh/PatrickHaussmann/boredape@v1.0.0/data/";
      let n = Math.floor(Math.random() * 10000);
      let img = document.getElementById("ape");

      img.src = base + n + ".png";
      img.alt = "BAYC " + n;

      async function fetch_json(url) {
        const response = await fetch(url);
        if (!response.ok) throw new Error(response.status);
        const data = await response.json();
        return data;
      }

      fetch_json(base + n + ".json").then((data) => {
        document.body.style.backgroundColor = data.color;
      });
    </script>
  </body>
</html>
